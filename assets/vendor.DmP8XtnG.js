var e,t,n,r,o,i,s,a,c,u,l,h,f,d,p,y,m,g,v,b,w,x,E,S,C,O,k,_,j,I,A,T,$,P=Object.defineProperty,M=e=>{throw TypeError(e)},D=(e,t,n)=>((e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),R=(e,t,n)=>t.has(e)||M("Cannot "+n),F=(e,t,n)=>(R(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?M("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),U=(e,t,n,r)=>(R(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{g as N,u as L,R as z,c as W,r as H,j as B}from"./react-core.AawETj4e.js";function V(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const J={},G=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/OrientalBoucherie/"+e}(e))in J)return;J[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),t?new Promise(((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))};const Q=N((function(e,t,n,r,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}));const X=N((function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!a(u))return!1;var l=e[u],h=t[u];if(!1===(o=n?n.call(r,l,h,u):void 0)||void 0===o&&l!==h)return!1}return!0})),K=e=>e;let Y=K;function Z(e){let t;return()=>(void 0===t&&(t=e()),t)}const ee=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},te=e=>1e3*e,ne=e=>e/1e3,re=Z((()=>void 0!==window.ScrollTimeline));class oe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>re()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ie extends oe{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function se(e,t){return e?e[t]||e.default||e:void 0}const ae=2e4;function ce(e){let t=0;let n=e.next(t);for(;!n.done&&t<ae;)t+=50,n=e.next(t);return t>=ae?1/0:t}function ue(e){return"function"==typeof e}function le(e,t){e.timeline=t,e.onfinish=null}const he=e=>Array.isArray(e)&&"number"==typeof e[0],fe={linearEasing:void 0};function de(e,t){const n=Z(e);return()=>{var e;return null!==(e=fe[t])&&void 0!==e?e:n()}}const pe=de((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),ye=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let i=0;i<o;i++)r+=e(ee(0,o-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function me(e){return Boolean("function"==typeof e&&pe()||!e||"string"==typeof e&&(e in ve||pe())||he(e)||Array.isArray(e)&&e.every(me))}const ge=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ve={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ge([0,.65,.55,1]),circOut:ge([.55,0,1,.45]),backIn:ge([.31,.01,.66,-.59]),backOut:ge([.33,1.53,.69,.99])};function be(e,t){return e?"function"==typeof e&&pe()?ye(e,t):he(e)?ge(e):Array.isArray(e)?e.map((e=>be(e,t)||ve.easeOut)):ve[e]:void 0}const we={x:!1,y:!1};function xe(){return we.x||we.y}function Ee(e,t){const n=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Se(e){return t=>{"touch"===t.pointerType||xe()||e(t)}}function Ce(e,t,n={}){const[r,o,i]=Ee(e,n),s=Se((e=>{const{target:n}=e,r=t(e);if("function"!=typeof r||!n)return;const i=Se((e=>{r(e),n.removeEventListener("pointerleave",i)}));n.addEventListener("pointerleave",i,o)}));return r.forEach((e=>{e.addEventListener("pointerenter",s,o)})),i}const Oe=(e,t)=>!!t&&(e===t||Oe(e,t.parentElement)),ke=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,_e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const je=new WeakSet;function Ie(e){return t=>{"Enter"===t.key&&e(t)}}function Ae(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Te(e){return ke(e)&&!xe()}function $e(e,t,n={}){const[r,o,i]=Ee(e,n),s=e=>{const r=e.currentTarget;if(!Te(e)||je.has(r))return;je.add(r);const i=t(e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",c),Te(e)&&je.has(r)&&(je.delete(r),"function"==typeof i&&i(e,{success:t}))},a=e=>{s(e,n.useGlobalTarget||Oe(r,e.target))},c=e=>{s(e,!1)};window.addEventListener("pointerup",a,o),window.addEventListener("pointercancel",c,o)};return r.forEach((e=>{(function(e){return _e.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,o),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ie((()=>{if(je.has(n))return;Ae(n,"down");const e=Ie((()=>{Ae(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>Ae(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,o)),o)})),i}function Pe(e){return"x"===e||"y"===e?we[e]?null:(we[e]=!0,()=>{we[e]=!1}):we.x||we.y?null:(we.x=we.y=!0,()=>{we.x=we.y=!1})}const Me=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{n.clear()}},s=t=e(r,o,i);return i},De={},{useDebugValue:Re}=z,{useSyncExternalStoreWithSelector:Fe}=L;let qe=!1;const Ue=e=>e;const Ne=e=>{const t="function"==typeof e?(e=>e?Me(e):Me)(e):e,n=(e,n)=>function(e,t=Ue,n){"production"!==(De?"production":void 0)&&n&&!qe&&(qe=!0);const r=Fe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Re(r),r}(t,e,n);return Object.assign(n,t),n},Le=e=>Ne;function ze(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=n.getItem(e))?t:null;return o instanceof Promise?o.then(r):r(o)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const We=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>We(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>We(e)(n)}}},He=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(n,r,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const a=new Set,c=new Set;let u;try{u=i.getStorage()}catch(m){}if(!u)return e(((...e)=>{n(...e)}),r,o);const l=We(i.serialize),h=()=>{const e=i.partialize({...r()});let t;const n=l({state:e,version:i.version}).then((e=>u.setItem(i.name,e))).catch((e=>{t=e}));if(t)throw t;return n},f=o.setState;o.setState=(e,t)=>{f(e,t),h()};const d=e(((...e)=>{n(...e),h()}),r,o);let p;const y=()=>{var e;if(!u)return;s=!1,a.forEach((e=>e(r())));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,r()))||void 0;return We(u.getItem.bind(u))(i.name).then((e=>{if(e)return i.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version)}})).then((e=>{var t;return p=i.merge(e,null!=(t=r())?t:d),n(p,!0),h()})).then((()=>{null==t||t(p,void 0),s=!0,c.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return o.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>s,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},y(),p||d})(e,t):((e,t)=>(n,r,o)=>{let i={storage:ze((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e(((...e)=>{n(...e)}),r,o);const l=()=>{const e=i.partialize({...r()});return u.setItem(i.name,{state:e,version:i.version})},h=o.setState;o.setState=(e,t)=>{h(e,t),l()};const f=e(((...e)=>{n(...e),l()}),r,o);let d;o.getInitialState=()=>f;const p=()=>{var e,t;if(!u)return;s=!1,a.forEach((e=>{var t;return e(null!=(t=r())?t:f)}));const o=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:f))||void 0;return We(u.getItem.bind(u))(i.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate)return[!0,i.migrate(e.state,e.version)]}return[!1,void 0]})).then((e=>{var t;const[o,s]=e;if(d=i.merge(s,null!=(t=r())?t:f),n(d,!0),o)return l()})).then((()=>{null==o||o(d,void 0),d=r(),s=!0,c.forEach((e=>e(d)))})).catch((e=>{null==o||o(void 0,e)}))};return o.persist={setOptions:e=>{i={...i,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},i.skipHydration||p(),d||f})(e,t),Be=!(typeof navigator>"u")&&"ReactNative"===navigator.product,Ve={timeout:Be?6e4:12e4},Je=function(e){const t={...Ve,..."string"==typeof e?{url:e}:e};if(t.timeout=Qe(t.timeout),t.query){const{url:e,searchParams:n}=function(e){const t=e.indexOf("?");if(-1===t)return{url:e,searchParams:new URLSearchParams};const n=e.slice(0,t),r=e.slice(t+1);if(!Be)return{url:n,searchParams:new URLSearchParams(r)};if("function"!=typeof decodeURIComponent)throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const o=new URLSearchParams;for(const i of r.split("&")){const[e,t]=i.split("=");e&&o.append(Ge(e),Ge(t||""))}return{url:n,searchParams:o}}(t.url);for(const[r,o]of Object.entries(t.query)){if(void 0!==o)if(Array.isArray(o))for(const e of o)n.append(r,e);else n.append(r,o);const i=n.toString();i&&(t.url=`${e}?${i}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function Ge(e){return decodeURIComponent(e.replace(/\+/g," "))}function Qe(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?Qe(Ve.timeout):{connect:t,socket:t}}const Xe=/^https?:\/\//i,Ke=function(e){if(!Xe.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function Ye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Ze=["request","response","progress","error","abort"],et=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function tt(e,t){const n=[],r=et.reduce(((e,t)=>(e[t]=e[t]||[],e)),{processOptions:[Je],validateOptions:[Ke]});function o(e){const n=Ze.reduce(((e,t)=>(e[t]=function(){const e=Object.create(null);let t=0;return{publish:function(t){for(const n in e)e[n](t)},subscribe:function(n){const r=t++;return e[r]=n,function(){delete e[r]}}}}(),e)),{}),o=(e=>function(t,n,...r){const o="onError"===t;let i=n;for(let s=0;s<e[t].length&&(i=(0,e[t][s])(i,...r),!o||i);s++);return i})(r),i=o("processOptions",e);o("validateOptions",i);const s={options:i,channels:n,applyMiddleware:o};let a;const c=n.request.subscribe((e=>{a=t(e,((t,r)=>((e,t,r)=>{let i=e,s=t;if(!i)try{s=o("onResponse",t,r)}catch(a){s=null,i=a}i=i&&o("onError",i,r),i?n.error.publish(i):s&&n.response.publish(s)})(t,r,e)))}));n.abort.subscribe((()=>{c(),a&&a.abort()}));const u=o("onReturn",n,s);return u===n&&n.request.publish(s),u}return o.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return et.forEach((t=>{e[t]&&r[t].push(e[t])})),n.push(e),o},o.clone=()=>tt(n,t),e.forEach(o.use),o}var nt,rt,ot=Ye(function(){if(rt)return nt;rt=1;var e=function(e){return e.replace(/^\s+|\s+$/g,"")};return nt=function(t){if(!t)return{};for(var n={},r=e(t).split("\n"),o=0;o<r.length;o++){var i=r[o],s=i.indexOf(":"),a=e(i.slice(0,s)).toLowerCase(),c=e(i.slice(s+1));typeof n[a]>"u"?n[a]=c:(u=n[a],"[object Array]"===Object.prototype.toString.call(u)?n[a].push(c):n[a]=[n[a],c])}var u;return n}}());let it=(a=class{constructor(){D(this,"onabort"),D(this,"onerror"),D(this,"onreadystatechange"),D(this,"ontimeout"),D(this,"readyState",0),D(this,"response"),D(this,"responseText",""),D(this,"responseType",""),D(this,"status"),D(this,"statusText"),D(this,"withCredentials"),q(this,e),q(this,t),q(this,n),q(this,r,{}),q(this,o),q(this,i,{}),q(this,s)}open(r,i,s){var a;U(this,e,r),U(this,t,i),U(this,n,""),this.readyState=1,null==(a=this.onreadystatechange)||a.call(this),U(this,o,void 0)}abort(){F(this,o)&&F(this,o).abort()}getAllResponseHeaders(){return F(this,n)}setRequestHeader(e,t){F(this,r)[e]=t}setInit(e,t=!0){U(this,i,e),U(this,s,t)}send(a){const c="arraybuffer"!==this.responseType,u={...F(this,i),method:F(this,e),headers:F(this,r),body:a};"function"==typeof AbortController&&F(this,s)&&(U(this,o,new AbortController),typeof EventTarget<"u"&&F(this,o).signal instanceof EventTarget&&(u.signal=F(this,o).signal)),typeof document<"u"&&(u.credentials=this.withCredentials?"include":"omit"),fetch(F(this,t),u).then((e=>{var t;return e.headers.forEach(((e,t)=>{U(this,n,F(this,n)+`${t}: ${e}\r\n`)})),this.status=e.status,this.statusText=e.statusText,this.readyState=3,null==(t=this.onreadystatechange)||t.call(this),c?e.text():e.arrayBuffer()})).then((e=>{var t;"string"==typeof e?this.responseText=e:this.response=e,this.readyState=4,null==(t=this.onreadystatechange)||t.call(this)})).catch((e=>{var t,n;"AbortError"!==e.name?null==(t=this.onerror)||t.call(this,e):null==(n=this.onabort)||n.call(this)}))}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,i=new WeakMap,s=new WeakMap,a);const st="function"==typeof XMLHttpRequest?"xhr":"fetch",at="xhr"===st?XMLHttpRequest:it,ct=(e,t)=>{const n=e.options,r=e.applyMiddleware("finalizeOptions",n),o={},i=e.applyMiddleware("interceptRequest",void 0,{adapter:st,context:e});if(i){const e=setTimeout(t,0,null,i);return{abort:()=>clearTimeout(e)}}let s=new at;s instanceof it&&"object"==typeof r.fetch&&s.setInit(r.fetch,r.useAbortSignal??!0);const a=r.headers,c=r.timeout;let u=!1,l=!1,h=!1;if(s.onerror=e=>{p(s instanceof it?e instanceof Error?e:new Error(`Request error while attempting to reach is ${r.url}`,{cause:e}):new Error(`Request error while attempting to reach is ${r.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},s.ontimeout=e=>{p(new Error(`Request timeout while attempting to reach ${r.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},s.onabort=()=>{d(!0),u=!0},s.onreadystatechange=()=>{c&&(d(),o.socket=setTimeout((()=>f("ESOCKETTIMEDOUT")),c.socket)),!u&&4===s.readyState&&0!==s.status&&function(){if(!(u||l||h)){if(0===s.status)return void p(new Error("Unknown XHR error"));d(),l=!0,t(null,{body:s.response||(""===s.responseType||"text"===s.responseType?s.responseText:""),url:r.url,method:r.method,headers:ot(s.getAllResponseHeaders()),statusCode:s.status,statusMessage:s.statusText})}}()},s.open(r.method,r.url,!0),s.withCredentials=!!r.withCredentials,a&&s.setRequestHeader)for(const y in a)a.hasOwnProperty(y)&&s.setRequestHeader(y,a[y]);return r.rawBody&&(s.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:r,adapter:st,request:s,context:e}),s.send(r.body||null),c&&(o.connect=setTimeout((()=>f("ETIMEDOUT")),c.connect)),{abort:function(){u=!0,s&&s.abort()}};function f(t){h=!0,s.abort();const n=new Error("ESOCKETTIMEDOUT"===t?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);n.code=t,e.channels.error.publish(n)}function d(e){(e||u||s.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function p(e){if(l)return;d(!0),l=!0,s=null;const n=e||new Error(`Network error while attempting to reach ${r.url}`);n.isNetworkError=!0,n.request=r,t(n)}},ut=(e=[],t=ct)=>tt(e,t);var lt,ht,ft,dt,pt,yt={},mt={exports:{}};pt||(pt=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=yt.DEBUG),e},t.useColors=function(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(dt?ft:(dt=1,ft=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const r=t(this.namespace+(typeof n>"u"?":":n)+e);return r.log=this.log,r}function r(e,t){let n=0,r=0,o=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(o=r,i=n,r++):(n++,r++);else{if(-1===o)return!1;r=o+1,i++,n=i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const r of n)"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(const n of t.skips)if(r(e,n))return!1;for(const n of t.names)if(r(e,n))return!0;return!1},t.humanize=function(){if(ht)return lt;ht=1;var e=1e3,t=6e4,n=60*t,r=24*n,o=7*r;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}return lt=function(s,a){a=a||{};var c,u,l,h,f=typeof s;if("string"===f&&s.length>0)return function(i){if(!((i=String(i)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(s);if("number"===f&&isFinite(s))return a.long?(c=s,(u=Math.abs(c))>=r?i(c,u,r,"day"):u>=n?i(c,u,n,"hour"):u>=t?i(c,u,t,"minute"):u>=e?i(c,u,e,"second"):c+" ms"):(l=s,(h=Math.abs(l))>=r?Math.round(l/r)+"d":h>=n?Math.round(l/n)+"h":h>=t?Math.round(l/t)+"m":h>=e?Math.round(l/e)+"s":l+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))}}(),t.destroy=function(){},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}))(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(mt,mt.exports));const gt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function vt(e){return"[object Object]"===Object.prototype.toString.call(e)}const bt=["boolean","string","number"];function wt(){return{processOptions:e=>{const t=e.body;return!t||"function"==typeof t.pipe||gt(t)||-1===bt.indexOf(typeof t)&&!Array.isArray(t)&&!function(e){if(!1===vt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!(!1===vt(n)||!1===n.hasOwnProperty("isPrototypeOf"))}(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function xt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||-1!==r.indexOf("application/json");return n.body&&r&&o?Object.assign({},n,{body:t(n.body)}):n},processOptions:e=>Object.assign({},e,{headers:Object.assign({Accept:"application/json"},e.headers)})};function t(e){try{return JSON.parse(e)}catch(t){throw t.message=`Failed to parsed response body as JSON: ${t.message}`,t}}}let Et={};typeof globalThis<"u"?Et=globalThis:typeof window<"u"?Et=window:typeof global<"u"?Et=global:typeof self<"u"&&(Et=self);var St=Et;function Ct(e={}){const t=e.implementation||St.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(e,n)=>new t((t=>(e.error.subscribe((e=>t.error(e))),e.progress.subscribe((e=>t.next(Object.assign({type:"progress"},e)))),e.response.subscribe((e=>{t.next(Object.assign({type:"response"},e)),t.complete()})),e.request.publish(n),()=>e.abort.publish())))}}var Ot=(e,t,n)=>("GET"===n.method||"HEAD"===n.method)&&(e.isNetworkError||!1);function kt(e){return 100*Math.pow(2,e)+100*Math.random()}const _t=(e={})=>(e=>{const t=e.maxRetries||5,n=e.retryDelay||kt,r=e.shouldRetry;return{onError:(e,o)=>{const i=o.options,s=i.maxRetries||t,a=i.retryDelay||n,c=i.shouldRetry||r,u=i.attemptNumber||0;if(null!==(l=i.body)&&"object"==typeof l&&"function"==typeof l.pipe||!c(e,u,i)||u>=s)return e;var l;const h=Object.assign({},o,{options:Object.assign({},i,{attemptNumber:u+1})});return setTimeout((()=>o.channels.request.publish(h)),a(u)),null}}})({shouldRetry:Ot,...e});_t.shouldRetry=Ot;var jt=function(e,t){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function It(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function At(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function Tt(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function $t(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Mt(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Dt(e){return this instanceof Dt?(this.v=e,this):new Dt(e)}function Rt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof Dt?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ft(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=$t(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function qt(e){return"function"==typeof e}function Ut(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}"function"==typeof SuppressedError&&SuppressedError;var Nt=Ut((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Lt(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var zt=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=$t(i),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(qt(c))try{c()}catch(p){o=p instanceof Nt?p.errors:[p]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=$t(u),h=l.next();!h.done;h=l.next()){var f=h.value;try{Bt(f)}catch(y){o=null!=o?o:[],y instanceof Nt?o=Mt(Mt([],Pt(o)),Pt(y.errors)):o.push(y)}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Nt(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Bt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Lt(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Lt(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Wt=zt.EMPTY;function Ht(e){return e instanceof zt||e&&"closed"in e&&qt(e.remove)&&qt(e.add)&&qt(e.unsubscribe)}function Bt(e){qt(e)?e():e.unsubscribe()}var Vt=void 0,Jt=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Mt([e,t],Pt(n)))};function Gt(e){Jt((function(){throw e}))}function Qt(){}function Xt(e){e()}var Kt=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Ht(t)&&t.add(n)):n.destination=tn,n}return It(t,e),t.create=function(e,t,n){return new Zt(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(zt),Yt=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){en(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){en(n)}else en(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){en(t)}},e}(),Zt=function(e){function t(t,n,r){var o,i=e.call(this)||this;return o=qt(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,i.destination=new Yt(o),i}return It(t,e),t}(Kt);function en(e){Gt(e)}var tn={closed:!0,next:Qt,error:function(e){throw e},complete:Qt},nn="function"==typeof Symbol&&Symbol.observable||"@@observable";function rn(e){return e}function on(e){return 0===e.length?rn:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var sn=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof Kt||function(e){return e&&qt(e.next)&&qt(e.error)&&qt(e.complete)}(r)&&Ht(r)?e:new Zt(e,t,n);return Xt((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=an(t))((function(t,r){var o=new Zt({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[nn]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return on(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=an(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function an(e){var t;return null!==(t=null!=e?e:Vt)&&void 0!==t?t:Promise}function cn(e){return function(t){if(function(e){return qt(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function un(e,t,n,r,o){return new ln(e,t,n,r,o)}var ln=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(n){t.error(n)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return It(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Kt),hn=Ut((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),fn=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return It(t,e),t.prototype.lift=function(e){var t=new dn(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new hn},t.prototype.next=function(e){var t=this;Xt((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=$t(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Xt((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Xt((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?Wt:(this.currentObservers=null,i.push(e),new zt((function(){t.currentObservers=null,Lt(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new sn;return e.source=this,e},t.create=function(e,t){return new dn(e,t)},t}(sn),dn=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return It(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Wt},t}(fn),pn={now:function(){return(pn.delegate||Date).now()},delegate:void 0},yn=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=pn);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return It(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(o.push(t),!i&&o.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var s=n.now(),a=0,c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}},t}(fn),mn=function(e){function t(t,n){return e.call(this)||this}return It(t,e),t.prototype.schedule=function(e,t){return this},t}(zt),gn=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Mt([e,t],Pt(n)))},vn=function(e){return clearInterval(e)},bn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return It(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),gn(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&vn(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Lt(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(mn),wn=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=pn.now,e}(),xn=new(function(e){function t(t,n){void 0===n&&(n=wn.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return It(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(wn))(bn),En=new sn((function(e){return e.complete()}));function Sn(e){return e[e.length-1]}function Cn(e){return(t=Sn(e))&&qt(t.schedule)?e.pop():void 0;var t}var On=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function kn(e){return qt(null==e?void 0:e.then)}function _n(e){return qt(e[nn])}function jn(e){return Symbol.asyncIterator&&qt(null==e?void 0:e[Symbol.asyncIterator])}function In(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var An="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Tn(e){return qt(null==e?void 0:e[An])}function $n(e){return Rt(this,arguments,(function(){var t,n,r;return Tt(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Dt(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Dt(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Dt(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Pn(e){return qt(null==e?void 0:e.getReader)}function Mn(e){if(e instanceof sn)return e;if(null!=e){if(_n(e))return o=e,new sn((function(e){var t=o[nn]();if(qt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(On(e))return r=e,new sn((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(kn(e))return n=e,new sn((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Gt)}));if(jn(e))return Dn(e);if(Tn(e))return t=e,new sn((function(e){var n,r;try{for(var o=$t(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(Pn(e))return Dn($n(e))}var t,n,r,o;throw In(e)}function Dn(e){return new sn((function(t){(function(e,t){var n,r,o,i;return At(this,void 0,void 0,(function(){var s,a;return Tt(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Ft(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Rn(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function Fn(e,t){return void 0===t&&(t=0),cn((function(n,r){n.subscribe(un(r,(function(n){return Rn(r,e,(function(){return r.next(n)}),t)}),(function(){return Rn(r,e,(function(){return r.complete()}),t)}),(function(n){return Rn(r,e,(function(){return r.error(n)}),t)})))}))}function qn(e,t){return void 0===t&&(t=0),cn((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Un(e,t){if(!e)throw new Error("Iterable cannot be null");return new sn((function(n){Rn(n,t,(function(){var r=e[Symbol.asyncIterator]();Rn(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Nn(e,t){if(null!=e){if(_n(e))return function(e,t){return Mn(e).pipe(qn(t),Fn(t))}(e,t);if(On(e))return function(e,t){return new sn((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(kn(e))return function(e,t){return Mn(e).pipe(qn(t),Fn(t))}(e,t);if(jn(e))return Un(e,t);if(Tn(e))return function(e,t){return new sn((function(n){var r;return Rn(n,t,(function(){r=e[An](),Rn(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return qt(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(Pn(e))return function(e,t){return Un($n(e),t)}(e,t)}throw In(e)}function Ln(e,t){return t?Nn(e,t):Mn(e)}function zn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ln(e,Cn(e))}function Wn(e,t){var n=qt(e)?e:function(){return e};return new sn((function(e){return e.error(n())}))}var Hn=Ut((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Bn(e,t){return new Promise((function(t,n){var r,o=!1;e.subscribe({next:function(e){r=e,o=!0},error:n,complete:function(){o?t(r):n(new Hn)}})}))}function Vn(e,t){return cn((function(n,r){var o=0;n.subscribe(un(r,(function(n){r.next(e.call(t,n,o++))})))}))}var Jn=Array.isArray;function Gn(e){return Vn((function(t){return function(e,t){return Jn(t)?e.apply(void 0,Mt([],Pt(t))):e(t)}(e,t)}))}function Qn(e,t,n){t()}function Xn(e,t,n){return void 0===n&&(n=1/0),qt(t)?Xn((function(n,r){return Vn((function(e,o){return t(n,e,r,o)}))(Mn(e(n,r)))}),n):("number"==typeof t&&(n=t),cn((function(t,r){return function(e,t,n,r,o,i,s){var a=[],c=0,u=0,l=!1,h=function(){!l||a.length||c||t.complete()},f=function(e){c++;var o=!1;Mn(n(e,u++)).subscribe(un(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{for(c--;a.length&&c<r;)e=void 0,e=a.shift(),s||f(e);h()}catch(n){t.error(n)}var e})))};return e.subscribe(un(t,(function(e){return c<r?f(e):a.push(e)}),(function(){l=!0,h()}))),function(){}}(t,r,e,n)})))}function Kn(e){return void 0===e&&(e=1/0),Xn(rn,e)}function Yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Kn(1)(Ln(e,Cn(e)))}function Zn(e){return new sn((function(t){Mn(e()).subscribe(t)}))}function er(e,t,n){return void 0===n&&(n=xn),new sn((function(t){var r,o=(r=e)instanceof Date&&!isNaN(r)?1e3-n.now():e;o<0&&(o=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),t.complete())}),o)}))}function tr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Cn(e),r=function(e,t){return"number"==typeof Sn(e)?e.pop():t}(e,1/0),o=e;return o.length?1===o.length?Mn(o[0]):Kn(r)(Ln(o,n)):En}var nr=Array.isArray;function rr(e,t){return cn((function(n,r){var o=0;n.subscribe(un(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function or(e){return cn((function(t,n){var r,o=null,i=!1;o=t.subscribe(un(n,void 0,void 0,(function(s){r=Mn(e(s,or(e)(t))),o?(o.unsubscribe(),o=null,r.subscribe(n)):i=!0}))),i&&(o.unsubscribe(),o=null,r.subscribe(n))}))}function ir(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return qt(Sn(e))?e.pop():void 0}(e);return n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return on(e)}(ir.apply(void 0,Mt([],Pt(e))),Gn(n)):cn((function(t,n){var r,o,i;(r=Mt([t],Pt(function(e){return 1===e.length&&nr(e[0])?e[0]:e}(e))),void 0===i&&(i=rn),function(e){Qn(0,(function(){for(var t=r.length,n=new Array(t),s=t,a=t,c=function(t){Qn(0,(function(){var c=Ln(r[t],o),u=!1;c.subscribe(un(e,(function(r){n[t]=r,u||(u=!0,a--),a||e.next(i(n.slice()))}),(function(){--s||e.complete()})))}))},u=0;u<t;u++)c(u)}))})(n)}))}function sr(e){return cn((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}function ar(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new fn}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t,r,i,a=0,u=!1,l=!1,h=function(){null==r||r.unsubscribe(),r=void 0},f=function(){h(),t=i=void 0,u=l=!1},d=function(){var e=t;f(),null==e||e.unsubscribe()};return cn((function(e,p){a++,l||u||h();var y=i=null!=i?i:n();p.add((function(){0!==--a||l||u||(r=cr(d,c))})),y.subscribe(p),!t&&a>0&&(t=new Zt({next:function(e){return y.next(e)},error:function(e){l=!0,h(),r=cr(f,o,e),y.error(e)},complete:function(){u=!0,h(),r=cr(f,s),y.complete()}}),Mn(e).subscribe(t))}))(e)}}function cr(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new Zt({next:function(){o.unsubscribe(),e()}});return Mn(t.apply(void 0,Mt([],Pt(n)))).subscribe(o)}}else e()}var ur={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},lr={0:8203,1:8204,2:8205,3:65279},hr=new Array(4).fill(String.fromCodePoint(lr[0])).join("");function fr(e,t,n="auto"){return!0===n||"auto"===n&&(function(e){return!(!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)||!Date.parse(e))}(e)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(e))?e:`${e}${function(e){let t=JSON.stringify(e);return`${hr}${Array.from(t).map((e=>{let n=e.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${e} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map((e=>String.fromCodePoint(lr[e]))).join("")})).join("")}`}(t)}`}Object.fromEntries(Object.entries(lr).map((e=>e.reverse()))),Object.fromEntries(Object.entries(ur).map((e=>e.reverse())));var dr=`${Object.values(ur).map((e=>`\\u{${e.toString(16)}}`)).join("")}`,pr=new RegExp(`[${dr}]{4,}`,"gu");function yr(e){return e&&JSON.parse(function(e){var t;return{cleaned:e.replace(pr,""),encoded:(null==(t=e.match(pr))?void 0:t[0])||""}}(JSON.stringify(e)).cleaned)}class mr extends Error{constructor(e){const t=vr(e);super(t.message),D(this,"response"),D(this,"statusCode",400),D(this,"responseBody"),D(this,"details"),Object.assign(this,t)}}class gr extends Error{constructor(e){const t=vr(e);super(t.message),D(this,"response"),D(this,"statusCode",500),D(this,"responseBody"),D(this,"details"),Object.assign(this,t)}}function vr(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:wr(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message=`${t.error} - ${t.message}`,n;if(function(e){return br(e)&&br(e.error)&&"mutationError"===e.error.type&&"string"==typeof e.error.description}(t)||function(e){return br(e)&&br(e.error)&&"actionError"===e.error.type&&"string"==typeof e.error.description}(t)){const e=t.error.items||[],r=e.slice(0,5).map((e=>{var t;return null==(t=e.error)?void 0:t.description})).filter(Boolean);let o=r.length?`:\n- ${r.join("\n- ")}`:"";return e.length>5&&(o+=`\n...and ${e.length-5} more`),n.message=`${t.error.description}${o}`,n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||function(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}(e),n)}function br(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function wr(e,t){return-1!==(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(e,null,2):e}class xr extends Error{constructor({projectId:e}){super("CorsOriginError"),D(this,"projectId"),D(this,"addOriginUrl"),this.name="CorsOriginError",this.projectId=e;const t=new URL(`https://sanity.io/manage/project/${e}/api`);if(typeof location<"u"){const{origin:e}=location;t.searchParams.set("cors","add"),t.searchParams.set("origin",e),this.addOriginUrl=t,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${t}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${t}`}}const Er={onResponse:e=>{if(e.statusCode>=500)throw new gr(e);if(e.statusCode>=400)throw new mr(e);return e}};function Sr(){const e={};return{onResponse:t=>{const n=t.headers["x-sanity-warning"],r=Array.isArray(n)?n:[n];for(const o of r)!o||e[o]||(e[o]=!0);return t}}}function Cr(e){return ut([_t({shouldRetry:Or}),...e,Sr(),wt(),xt(),{onRequest:e=>{if("xhr"!==e.adapter)return;const t=e.request,n=e.context;function r(e){return t=>{const r=t.lengthComputable?t.loaded/t.total*100:-1;n.channels.progress.publish({stage:e,percent:r,total:t.total,loaded:t.loaded,lengthComputable:t.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"))}},Er,Ct({implementation:sn})])}function Or(e,t,n){if(0===n.maxRetries)return!1;const r="GET"===n.method||"HEAD"===n.method,o=(n.uri||n.url).startsWith("/data/query"),i=e.response&&(429===e.response.statusCode||502===e.response.statusCode||503===e.response.statusCode);return!(!r&&!o||!i)||_t.shouldRetry(e,t,n)}function kr(e){return"https://www.sanity.io/help/"+e}const _r=["image","file"],jr=["before","after","replace"],Ir=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Ar=(e,t)=>{if(null===t||"object"!=typeof t||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},Tr=(e,t)=>{if("string"!=typeof t||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},$r=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);Tr(e,t._id)},Pr=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},Mr=e=>{if("string"!=typeof e||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e},Dr=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:n}=e["~experimental_resource"];switch(t){case"dataset":if(2!==n.split(".").length)throw new Error('Dataset resource ID must be in the format "project.dataset"');return;case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}},Rr=(e,t)=>{if(t["~experimental_resource"])throw new Error(`\`${e}\` does not support resource-based operations`)};const Fr=e=>function(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}(((...e)=>{})),qr=Fr(),Ur=Fr(),Nr=Fr(),Lr=Fr(),zr=Fr(kr("js-client-browser-token")),Wr=Fr(),Hr=Fr(kr("js-client-api-version")),Br={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Vr=["localhost","127.0.0.1","0.0.0.0"];function Jr(e){if(Array.isArray(e)&&e.length>1&&e.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const Gr=(e,t)=>{const n={...t,...e,stega:{..."boolean"==typeof t.stega?{enabled:t.stega}:t.stega||Br.stega,..."boolean"==typeof e.stega?{enabled:e.stega}:e.stega||{}}};n.apiVersion||Hr();const r={...Br,...n},o=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const e=kr("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${e}`)}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&Dr(r),typeof r.perspective<"u"&&Jr(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if("boolean"!=typeof r.stega.enabled)throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&void 0===r.stega.studioUrl)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&"string"!=typeof r.stega.studioUrl&&"function"!=typeof r.stega.studioUrl)throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&(e=>-1!==Vr.indexOf(e))(window.location.hostname),a=!!r.token;r.withCredentials&&a&&(Wr(),r.withCredentials=!1),i&&s&&a&&!0!==r.ignoreBrowserTokenWarning?zr():typeof r.useCdn>"u"&&Ur(),o&&(e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")})(r.projectId),r.dataset&&Ir(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?Mr(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===Br.apiHost,!0===r.useCdn&&r.withCredentials&&qr(),r.useCdn=!1!==r.useCdn&&!r.withCredentials,function(e){if("1"===e||"X"===e)return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}(r.apiVersion);const c=r.apiHost.split("://",2),u=c[0],l=c[1],h=r.isDefaultApi?"apicdn.sanity.io":l;return o?(r.url=`${u}://${r.projectId}.${l}/v${r.apiVersion}`,r.cdnUrl=`${u}://${r.projectId}.${h}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class Qr extends Error{constructor(){super(...arguments),D(this,"name","ConnectionFailedError")}}class Xr extends Error{constructor(e,t,n={}){super(e,n),D(this,"name","DisconnectError"),D(this,"reason"),this.reason=t}}class Kr extends Error{constructor(e,t){super(e),D(this,"name","ChannelError"),D(this,"data"),this.data=t}}class Yr extends Error{constructor(e,t,n={}){super(e,n),D(this,"name","MessageError"),D(this,"data"),this.data=t}}class Zr extends Error{constructor(){super(...arguments),D(this,"name","MessageParseError")}}const eo=["channelError","disconnect"];function to(e,t){return Zn((()=>{const t=e();return(n=t)&&(n instanceof sn||qt(n.lift)&&qt(n.subscribe))?t:zn(t);var n})).pipe(Xn((e=>function(e,t){return new sn((n=>{const r=t.includes("open"),o=t.includes("reconnect");function i(t){if("data"in t){const[e,r]=no(t);n.error(e?new Zr("Unable to parse EventSource error message",{cause:r}):new Yr((null==r?void 0:r.data).message,r))}else e.readyState===e.CLOSED?n.error(new Qr("EventSource connection failed")):o&&n.next({type:"reconnect"})}function s(){n.next({type:"open"})}function a(e){var t;const[r,o]=no(e);var i;r?n.error(new Zr("Unable to parse EventSource message",{cause:r})):"channelError"!==e.type?"disconnect"!==e.type?n.next({type:e.type,id:e.lastEventId,...o.data?{data:o.data}:{}}):n.error(new Xr(`Server disconnected client: ${(null==(t=o.data)?void 0:t.reason)||"unknown error"}`)):n.error(new Kr((i=null==o?void 0:o.data).error?i.error.description?i.error.description:"string"==typeof i.error?i.error:JSON.stringify(i.error,null,2):i.message||"Unknown listener error",o.data))}e.addEventListener("error",i),r&&e.addEventListener("open",s);const c=[...new Set([...eo,...t])].filter((e=>"error"!==e&&"open"!==e&&"reconnect"!==e));return c.forEach((t=>e.addEventListener(t,a))),()=>{e.removeEventListener("error",i),r&&e.removeEventListener("open",s),c.forEach((t=>e.removeEventListener(t,a))),e.close()}}))}(e,t))))}function no(e){try{const t="string"==typeof e.data&&JSON.parse(e.data);return[null,{type:e.type,id:e.lastEventId,...ro(t)?{}:{data:t}}]}catch(t){return[t,null]}}function ro(e){for(const t in e)return!1;return!0}function oo(e){if("string"==typeof e)return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if("object"==typeof e&&null!==e&&"query"in e&&"string"==typeof e.query)return"params"in e&&"object"==typeof e.params&&null!==e.params?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error(`Unknown selection - must be one of:\n\n${t}`)}class io{constructor(e,t={}){D(this,"selection"),D(this,"operations"),this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Ar("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return((e,t,n)=>{const r="insert(at, selector, items)";if(-1===jr.indexOf(e)){const e=jr.map((e=>`"${e}"`)).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${e}`)}if("string"!=typeof t)throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)})(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,n,r){const o=t<0?t-1:t,i=typeof n>"u"||-1===n?-1:Math.max(0,t+n),s=`${e}[${o}:${o<0&&i>=0?"":i}]`;return this.insert("replace",s,r||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...oo(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,n=!0){return Ar(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}c=new WeakMap;let so=class e extends io{constructor(e,t,n){super(e,t),q(this,c),U(this,c,n)}clone(){return new e(this.selection,{...this.operations},F(this,c))}commit(e){if(!F(this,c))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t="string"==typeof this.selection,n=Object.assign({returnFirst:t,returnDocuments:!0},e);return F(this,c).mutate({patch:this.serialize()},n)}};u=new WeakMap;let ao=class e extends io{constructor(e,t,n){super(e,t),q(this,u),U(this,u,n)}clone(){return new e(this.selection,{...this.operations},F(this,u))}commit(e){if(!F(this,u))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t="string"==typeof this.selection,n=Object.assign({returnFirst:t,returnDocuments:!0},e);return F(this,u).mutate({patch:this.serialize()},n)}};const co={returnDocuments:!1};class uo{constructor(e=[],t){D(this,"operations"),D(this,"trxId"),this.operations=e,this.trxId=t}create(e){return Ar("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return Ar(t,e),$r(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return Ar(t,e),$r(t,e),this._add({[t]:e})}delete(e){return Tr("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}l=new WeakMap;let lo=class e extends uo{constructor(e,t,n){super(e,n),q(this,l),U(this,l,t)}clone(){return new e([...this.operations],F(this,l),this.trxId)}commit(e){if(!F(this,l))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return F(this,l).mutate(this.serialize(),Object.assign({transactionId:this.trxId},co,e||{}))}patch(e,t){const n="function"==typeof t,r="object"==typeof e&&("query"in e||"id"in e);if("string"!=typeof e&&e instanceof ao)return this._add({patch:e.serialize()});if(n){const n=t(new ao(e,{},F(this,l)));if(!(n instanceof ao))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}if(r){const n=new ao(e,t||{},F(this,l));return this._add({patch:n.serialize()})}return this._add({patch:{id:e,...t}})}};h=new WeakMap;let ho=class e extends uo{constructor(e,t,n){super(e,n),q(this,h),U(this,h,t)}clone(){return new e([...this.operations],F(this,h),this.trxId)}commit(e){if(!F(this,h))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return F(this,h).mutate(this.serialize(),Object.assign({transactionId:this.trxId},co,e||{}))}patch(e,t){const n="function"==typeof t;if("string"!=typeof e&&e instanceof so)return this._add({patch:e.serialize()});if(n){const n=t(new so(e,{},F(this,h)));if(!(n instanceof so))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:{id:e,...t}})}};const fo=({query:e,params:t={},options:n={}})=>{const r=new URLSearchParams,{tag:o,includeMutations:i,returnQuery:s,...a}=n;o&&r.append("tag",o),r.append("query",e);for(const[c,u]of Object.entries(t))r.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&r.append(c,`${u}`);return!1===s&&r.append("returnQuery","false"),!1===i&&r.append("includeMutations","false"),`?${r}`},po=(e={})=>{return{dryRun:e.dryRun,returnIds:!0,returnDocuments:(t=e.returnDocuments,n=!0,!1===t?void 0:typeof t>"u"?n:t),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation};var t,n},yo=e=>"response"===e.type,mo=e=>e.body;function go(e,t,n,r,o={},i={}){const s="stega"in i?{...n||{},..."boolean"==typeof i.stega?{enabled:i.stega}:i.stega||{}}:n,a=s.enabled?yr(o):o,c=!1===i.filterResponse?e=>e:e=>e.result,{cache:u,next:l,...h}={useAbortSignal:typeof i.signal<"u",resultSourceMap:s.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:!1===i.filterResponse&&!1!==i.returnQuery},f=Oo(e,t,"query",{query:r,params:a},typeof u<"u"||typeof l<"u"?{...h,fetch:{cache:u,next:l}}:h);return s.enabled?f.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ir.apply(void 0,Mt([],Pt(e)))}(Ln(G((()=>Promise.resolve().then((()=>os))),void 0).then((function(e){return e.stegaEncodeSourceMap$1})).then((({stegaEncodeSourceMap:e})=>e)))),Vn((([e,t])=>{const n=t(e.result,e.resultSourceMap,s);return c({...e,result:n})}))):f.pipe(Vn(c))}function vo(e,t,n,r={}){return Ao(e,t,{uri:$o(e,"doc",n),json:!0,tag:r.tag,signal:r.signal}).pipe(rr(yo),Vn((e=>e.body.documents&&e.body.documents[0])))}function bo(e,t,n,r={}){return Ao(e,t,{uri:$o(e,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal}).pipe(rr(yo),Vn((e=>{const t=(r=e.body.documents||[],o=e=>e._id,r.reduce(((e,t)=>(e[o(t)]=t,e)),Object.create(null)));var r,o;return n.map((e=>t[e]||null))})))}function wo(e,t,n,r){return $r("createIfNotExists",n),ko(e,t,n,"createIfNotExists",r)}function xo(e,t,n,r){return $r("createOrReplace",n),ko(e,t,n,"createOrReplace",r)}function Eo(e,t,n,r){return Oo(e,t,"mutate",{mutations:[{delete:oo(n)}]},r)}function So(e,t,n,r){let o;o=n instanceof ao||n instanceof so?{patch:n.serialize()}:n instanceof lo||n instanceof ho?n.serialize():n;return Oo(e,t,"mutate",{mutations:Array.isArray(o)?o:[o],transactionId:r&&r.transactionId||void 0},r)}function Co(e,t,n,r){return Oo(e,t,"actions",{actions:Array.isArray(n)?n:[n],transactionId:r&&r.transactionId||void 0,skipCrossDatasetReferenceValidation:r&&r.skipCrossDatasetReferenceValidation||void 0,dryRun:r&&r.dryRun||void 0},r)}function Oo(e,t,n,r,o={}){const i="mutate"===n,s="actions"===n,a="query"===n,c=i||s?"":fo(r),u=!i&&!s&&c.length<11264,l=u?c:"",h=o.returnFirst,{timeout:f,token:d,tag:p,headers:y,returnQuery:m,lastLiveEventId:g,cacheMode:v}=o;return Ao(e,t,{method:u?"GET":"POST",uri:$o(e,n,l),json:!0,body:u?void 0:r,query:i&&po(o),timeout:f,headers:y,token:d,tag:p,returnQuery:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,lastLiveEventId:Array.isArray(g)?g[0]:g,cacheMode:v,canUseCdn:a,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal,useCdn:o.useCdn}).pipe(rr(yo),Vn(mo),Vn((e=>{if(!i)return e;const t=e.results||[];if(o.returnDocuments)return h?t[0]&&t[0].document:t.map((e=>e.document));const n=h?"documentId":"documentIds",r=h?t[0]&&t[0].id:t.map((e=>e.id));return{transactionId:e.transactionId,results:t,[n]:r}})))}function ko(e,t,n,r,o={}){return Oo(e,t,"mutate",{mutations:[{[r]:n}]},Object.assign({returnFirst:!0,returnDocuments:!0},o))}const _o=e=>void 0!==e.config().dataset&&void 0!==e.config().projectId||void 0!==e.config()["~experimental_resource"],jo=(e,t)=>_o(e)&&t.startsWith($o(e,"query")),Io=(e,t)=>t.startsWith("/data/")||jo(e,t)||((e,t)=>_o(e)&&t.startsWith($o(e,"mutate")))(e,t)||((e,t)=>_o(e)&&t.startsWith($o(e,"doc","")))(e,t)||((e,t)=>_o(e)&&t.startsWith($o(e,"listen")))(e,t)||((e,t)=>_o(e)&&t.startsWith($o(e,"history","")))(e,t);function Ao(e,t,n){const r=n.url||n.uri,o=e.config(),i=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&Io(e,r):n.canUseCdn;let s=(n.useCdn??o.useCdn)&&i;const a=n.tag&&o.requestTagPrefix?[o.requestTagPrefix,n.tag].join("."):n.tag||o.requestTagPrefix;if(a&&null!==n.tag&&(n.query={tag:Mr(a),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&jo(e,r)){const e=n.resultSourceMap??o.resultSourceMap;void 0!==e&&!1!==e&&(n.query={resultSourceMap:e,...n.query});const t=n.perspective||o.perspective;typeof t<"u"&&("previewDrafts"===t&&Lr(),Jr(t),n.query={perspective:Array.isArray(t)?t.join(","):t,...n.query},(Array.isArray(t)&&t.length>0||"previewDrafts"===t||"drafts"===t)&&s&&(s=!1,Nr())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),!1===n.returnQuery&&(n.query={returnQuery:"false",...n.query}),s&&"noStale"==n.cacheMode&&(n.query={cacheMode:"noStale",...n.query})}const c=function(e,t={}){const n={},r=t.token||e.token;r&&(n.Authorization=`Bearer ${r}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n["X-Sanity-Project-ID"]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?3e5:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:"object"==typeof t.fetch&&"object"==typeof e.fetch?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}(o,Object.assign({},n,{url:Po(e,r,s)})),u=new sn((e=>t(c,o.requester).subscribe(e)));return n.signal?u.pipe((l=n.signal,e=>new sn((t=>{const n=()=>t.error(function(e){if(Mo)return new DOMException((null==e?void 0:e.reason)??"The operation was aborted.","AbortError");const t=new Error((null==e?void 0:e.reason)??"The operation was aborted.");return t.name="AbortError",t}(l));if(l&&l.aborted)return void n();const r=e.subscribe(t);return l.addEventListener("abort",n),()=>{l.removeEventListener("abort",n),r.unsubscribe()}})))):u;var l}function To(e,t,n){return Ao(e,t,n).pipe(rr((e=>"response"===e.type)),Vn((e=>e.body)))}function $o(e,t,n){const r=e.config();if(r["~experimental_resource"]){Dr(r);return`${Do(r)}/${void 0!==n?`${t}/${n}`:t}`.replace(/\/($|\?)/,"$1")}const o=`/${t}/${Pr(r)}`;return`/data${void 0!==n?`${o}/${n}`:o}`.replace(/\/($|\?)/,"$1")}function Po(e,t,n=!1){const{url:r,cdnUrl:o}=e.config();return`${n?o:r}/${t.replace(/^\//,"")}`}const Mo=!!globalThis.DOMException;const Do=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:n}=e["~experimental_resource"];switch(t){case"dataset":{const e=n.split(".");if(2!==e.length)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${e[0]}/datasets/${e[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}};class Ro{constructor(e,t){q(this,f),q(this,d),U(this,f,e),U(this,d,t)}upload(e,t,n){return qo(F(this,f),F(this,d),e,t,n)}}f=new WeakMap,d=new WeakMap;class Fo{constructor(e,t){q(this,p),q(this,y),U(this,p,e),U(this,y,t)}upload(e,t,n){return Bn(qo(F(this,p),F(this,y),e,t,n).pipe(rr((e=>"response"===e.type)),Vn((e=>e.body.document))))}}function qo(e,t,n,r,o={}){(e=>{if(-1===_r.indexOf(e))throw new Error(`Invalid asset type: ${e}. Must be one of ${_r.join(", ")}`)})(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=e.config(),a=function(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:!1===e.preserveFilename?void 0:t.name,contentType:t.type},e)}(o,r),{tag:c,label:u,title:l,description:h,creditLine:f,filename:d,source:p}=a,y={label:u,title:l,description:h,filename:d,meta:i,creditLine:f};return p&&(y.sourceId=p.id,y.sourceName=p.name,y.sourceUrl=p.url),Ao(e,t,{tag:c,method:"POST",timeout:a.timeout||0,uri:Uo(s,n),headers:a.contentType?{"Content-Type":a.contentType}:{},query:y,body:r})}function Uo(e,t){const n="image"===t?"images":"files";if(e["~experimental_resource"]){const{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${r}/assets/${n}`;case"media-library":return`/media-libraries/${r}/upload`;case"dashboard":return`/dashboards/${r}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}}return`assets/${n}/${Pr(e)}`}p=new WeakMap,y=new WeakMap;const No=Zn((()=>G((()=>Promise.resolve().then((()=>us))),void 0))).pipe(Vn((({default:e})=>e)),(Wo=1,ar({connector:function(){return new yn(Wo,Lo,zo)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:!1})));var Lo,zo,Wo;function Ho(){return function(e){return e.pipe(or(((e,t)=>e instanceof Qr?Yn(zn({type:"reconnect"}),er(1e3).pipe(Xn((()=>t)))):Wn((()=>e)))))}}const Bo=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Vo={includeResult:!0};function Jo(e,t,n={}){const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...(h=n,f=Vo,Object.keys(f).concat(Object.keys(h)).reduce(((e,t)=>(e[t]=typeof h[t]>"u"?f[t]:h[t],e)),{})),tag:a},u=((e,t)=>t.reduce(((t,n)=>(typeof e[n]>"u"||(t[n]=e[n]),t)),{}))(c,Bo),l=`${r}${$o(this,"listen",fo({query:e,params:t,options:{tag:a,...u}}))}`;var h,f;if(l.length>14800)return Wn((()=>new Error("Query too large for listener")));const d=c.events?c.events:["mutation"],p={};return i&&(p.withCredentials=!0),o&&(p.headers={Authorization:`Bearer ${o}`}),to((()=>(typeof EventSource>"u"||p.headers?No:zn(EventSource)).pipe(Vn((e=>new e(l,p))))),d).pipe(Ho(),rr((e=>d.includes(e.type))),Vn((e=>({type:e.type,..."data"in e?e.data:{}}))))}function Go(e,t){return function(e){return t=>{let n,r=!1;const{predicate:o,...i}=e,s=t.pipe((l=qt(a=t=>{e.predicate(t)&&(r=!0,n=t)})||c||u?{next:a,error:c,complete:u}:a)?cn((function(e,t){var n;null===(n=l.subscribe)||void 0===n||n.call(l);var r=!0;e.subscribe(un(t,(function(e){var n;null===(n=l.next)||void 0===n||n.call(l,e),t.next(e)}),(function(){var e;r=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()}),(function(e){var n;r=!1,null===(n=l.error)||void 0===n||n.call(l,e),t.error(e)}),(function(){var e,t;r&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)})))})):rn,sr((()=>{r=!1,n=void 0})),ar(i));var a,c,u,l;return tr(s,new sn((e=>{r&&e.next(n),e.complete()})))}}("function"==typeof e?{predicate:e,...t}:e)}const Qo="2021-03-25";class Xo{constructor(e){q(this,m),U(this,m,e)}events({includeDrafts:e=!1,tag:t}={}){Rr("live",F(this,m).config());const{projectId:n,apiVersion:r,token:o,withCredentials:i,requestTagPrefix:s}=F(this,m).config(),a=r.replace(/^v/,"");if("X"!==a&&a<Qo)throw new Error(`The live events API requires API version ${Qo} or later. The current API version is ${a}. Please update your API version to use this feature.`);if(e&&!o&&!i)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const c=$o(F(this,m),"live/events"),u=new URL(F(this,m).getUrl(c,!1)),l=t&&s?[s,t].join("."):t;l&&u.searchParams.set("tag",l),e&&u.searchParams.set("includeDrafts","true");const h={};e&&o&&(h.headers={Authorization:`Bearer ${o}`}),e&&i&&(h.withCredentials=!0);const f=`${u.href}::${JSON.stringify(h)}`,d=Ko.get(f);if(d)return d;const p=to((()=>(typeof EventSource>"u"||h.headers?No:zn(EventSource)).pipe(Vn((e=>new e(u.href,h))))),["message","restart","welcome","reconnect","goaway"]).pipe(Ho(),Vn((e=>{if("message"===e.type){const{data:t,...n}=e;return{...n,tags:t.tags}}return e}))),y=function(e,t){return new sn((n=>{const r=new AbortController,o=r.signal;return fetch(e,{...t,signal:r.signal}).then((e=>{n.next(e),n.complete()}),(e=>{o.aborted||n.error(e)})),()=>r.abort()}))}(u,{method:"OPTIONS",mode:"cors",credentials:h.withCredentials?"include":"omit",headers:h.headers}).pipe(Xn((()=>En)),or((()=>{throw new xr({projectId:n})}))),g=Yn(y,p).pipe(sr((()=>Ko.delete(f))),Go({predicate:e=>"welcome"===e.type}));return Ko.set(f,g),g}}m=new WeakMap;const Ko=new Map;class Yo{constructor(e,t){q(this,g),q(this,v),U(this,g,e),U(this,v,t)}create(e,t){return ei(F(this,g),F(this,v),"PUT",e,t)}edit(e,t){return ei(F(this,g),F(this,v),"PATCH",e,t)}delete(e){return ei(F(this,g),F(this,v),"DELETE",e)}list(){return To(F(this,g),F(this,v),{uri:"/datasets",tag:null})}}g=new WeakMap,v=new WeakMap;class Zo{constructor(e,t){q(this,b),q(this,w),U(this,b,e),U(this,w,t)}create(e,t){return Rr("dataset",F(this,b).config()),Bn(ei(F(this,b),F(this,w),"PUT",e,t))}edit(e,t){return Rr("dataset",F(this,b).config()),Bn(ei(F(this,b),F(this,w),"PATCH",e,t))}delete(e){return Rr("dataset",F(this,b).config()),Bn(ei(F(this,b),F(this,w),"DELETE",e))}list(){return Rr("dataset",F(this,b).config()),Bn(To(F(this,b),F(this,w),{uri:"/datasets",tag:null}))}}function ei(e,t,n,r,o){return Rr("dataset",e.config()),Ir(r),To(e,t,{method:n,uri:`/datasets/${r}`,body:o,tag:null})}b=new WeakMap,w=new WeakMap;class ti{constructor(e,t){q(this,x),q(this,E),U(this,x,e),U(this,E,t)}list(e){Rr("projects",F(this,x).config());const t=!1===(null==e?void 0:e.includeMembers)?"/projects?includeMembers=false":"/projects";return To(F(this,x),F(this,E),{uri:t})}getById(e){return Rr("projects",F(this,x).config()),To(F(this,x),F(this,E),{uri:`/projects/${e}`})}}x=new WeakMap,E=new WeakMap;class ni{constructor(e,t){q(this,S),q(this,C),U(this,S,e),U(this,C,t)}list(e){Rr("projects",F(this,S).config());const t=!1===(null==e?void 0:e.includeMembers)?"/projects?includeMembers=false":"/projects";return Bn(To(F(this,S),F(this,C),{uri:t}))}getById(e){return Rr("projects",F(this,S).config()),Bn(To(F(this,S),F(this,C),{uri:`/projects/${e}`}))}}S=new WeakMap,C=new WeakMap;class ri{constructor(e,t){q(this,O),q(this,k),U(this,O,e),U(this,k,t)}getById(e){return To(F(this,O),F(this,k),{uri:`/users/${e}`})}}O=new WeakMap,k=new WeakMap;class oi{constructor(e,t){q(this,_),q(this,j),U(this,_,e),U(this,j,t)}getById(e){return Bn(To(F(this,_),F(this,j),{uri:`/users/${e}`}))}}_=new WeakMap,j=new WeakMap;I=new WeakMap,A=new WeakMap;let ii=class e{constructor(e,t=Br){D(this,"assets"),D(this,"datasets"),D(this,"live"),D(this,"projects"),D(this,"users"),q(this,I),q(this,A),D(this,"listen",Jo),this.config(t),U(this,A,e),this.assets=new Ro(this,F(this,A)),this.datasets=new Yo(this,F(this,A)),this.live=new Xo(this),this.projects=new ti(this,F(this,A)),this.users=new ri(this,F(this,A))}clone(){return new e(F(this,A),this.config())}config(e){if(void 0===e)return{...F(this,I)};if(F(this,I)&&!1===F(this,I).allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return U(this,I,Gr(e,F(this,I)||{})),this}withConfig(t){const n=this.config();return new e(F(this,A),{...n,...t,stega:{...n.stega||{},..."boolean"==typeof(null==t?void 0:t.stega)?{enabled:t.stega}:(null==t?void 0:t.stega)||{}}})}fetch(e,t,n){return go(this,F(this,A),F(this,I).stega,e,t,n)}getDocument(e,t){return vo(this,F(this,A),e,t)}getDocuments(e,t){return bo(this,F(this,A),e,t)}create(e,t){return ko(this,F(this,A),e,"create",t)}createIfNotExists(e,t){return wo(this,F(this,A),e,t)}createOrReplace(e,t){return xo(this,F(this,A),e,t)}delete(e,t){return Eo(this,F(this,A),e,t)}mutate(e,t){return So(this,F(this,A),e,t)}patch(e,t){return new so(e,t,this)}transaction(e){return new ho(e,this)}action(e,t){return Co(this,F(this,A),e,t)}request(e){return To(this,F(this,A),e)}getUrl(e,t){return Po(this,e,t)}getDataUrl(e,t){return $o(this,e,t)}};T=new WeakMap,$=new WeakMap;let si=class e{constructor(e,t=Br){D(this,"assets"),D(this,"datasets"),D(this,"live"),D(this,"projects"),D(this,"users"),D(this,"observable"),q(this,T),q(this,$),D(this,"listen",Jo),this.config(t),U(this,$,e),this.assets=new Fo(this,F(this,$)),this.datasets=new Zo(this,F(this,$)),this.live=new Xo(this),this.projects=new ni(this,F(this,$)),this.users=new oi(this,F(this,$)),this.observable=new ii(e,t)}clone(){return new e(F(this,$),this.config())}config(e){if(void 0===e)return{...F(this,T)};if(F(this,T)&&!1===F(this,T).allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),U(this,T,Gr(e,F(this,T)||{})),this}withConfig(t){const n=this.config();return new e(F(this,$),{...n,...t,stega:{...n.stega||{},..."boolean"==typeof(null==t?void 0:t.stega)?{enabled:t.stega}:(null==t?void 0:t.stega)||{}}})}fetch(e,t,n){return Bn(go(this,F(this,$),F(this,T).stega,e,t,n))}getDocument(e,t){return Bn(vo(this,F(this,$),e,t))}getDocuments(e,t){return Bn(bo(this,F(this,$),e,t))}create(e,t){return Bn(ko(this,F(this,$),e,"create",t))}createIfNotExists(e,t){return Bn(wo(this,F(this,$),e,t))}createOrReplace(e,t){return Bn(xo(this,F(this,$),e,t))}delete(e,t){return Bn(Eo(this,F(this,$),e,t))}mutate(e,t){return Bn(So(this,F(this,$),e,t))}patch(e,t){return new ao(e,t,this)}transaction(e){return new lo(e,this)}action(e,t){return Bn(Co(this,F(this,$),e,t))}request(e){return Bn(To(this,F(this,$),e))}dataRequest(e,t,n){return Bn(Oo(this,F(this,$),e,t,n))}getUrl(e,t){return Po(this,e,t)}getDataUrl(e,t){return $o(this,e,t)}};const ai=(ui=si,{requester:Cr(ci=[]),createClient:e=>{const t=Cr(ci);return new ui(((n,r)=>(r||t)({maxRedirects:0,maxRetries:e.maxRetries,retryDelay:e.retryDelay,...n})),e)}}).createClient;var ci,ui,li={exports:{}};const hi=N(li.exports=function(){function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.apply(this,arguments)}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=t(e))||n){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(e){var t=e.split("-"),n=t[1],r=t[2],i=t[3];if(!n||!r||!i)throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+o+'".');var s=r.split("x"),a=+s[0],c=+s[1];if(!isFinite(a)||!isFinite(c))throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+o+'".');return{id:n,width:a,height:c,format:i}}var s=function(e){return!!e&&"string"==typeof e._ref},a=function(e){return!!e&&"string"==typeof e._id},c=function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url};function u(t){if(!t)return null;var n;if("string"==typeof t&&l(t))n={asset:{_ref:h(t)}};else if("string"==typeof t)n={asset:{_ref:t}};else if(s(t))n={asset:t};else if(a(t))n={asset:{_ref:t._id||""}};else if(c(t))n={asset:{_ref:h(t.asset.url)}};else{if("object"!=typeof t.asset)return null;n=e({},t)}var r=t;return r.crop&&(n.crop=r.crop),r.hotspot&&(n.hotspot=r.hotspot),f(n)}function l(e){return/^https?:\/\//.test(""+e)}function h(e){return("image-"+e.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function f(t){if(t.crop&&t.hotspot)return t;var n=e({},t);return n.crop||(n.crop={left:0,top:0,bottom:0,right:0}),n.hotspot||(n.hotspot={x:.5,y:.5,height:1,width:1}),n}var d=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function p(t){var n=e({},t||{}),r=n.source;delete n.source;var o=u(r);if(!o)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(r)+")");var s=i(o.asset._ref||o.asset._id||""),a=Math.round(o.crop.left*s.width),c=Math.round(o.crop.top*s.height),l={left:a,top:c,width:Math.round(s.width-o.crop.right*s.width-a),height:Math.round(s.height-o.crop.bottom*s.height-c)},h=o.hotspot.height*s.height/2,f=o.hotspot.width*s.width/2,d=o.hotspot.x*s.width,p=o.hotspot.y*s.height,g={left:d-f,top:p-h,right:d+f,bottom:p+h};return n.rect||n.focalPoint||n.ignoreImageParams||n.crop||(n=e({},n,m({crop:l,hotspot:g},n))),y(e({},n,{asset:s}))}function y(e){var t=(e.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),n=e.vanityName?"/"+e.vanityName:"",r=e.asset.id+"-"+e.asset.width+"x"+e.asset.height+"."+e.asset.format+n,o=t+"/images/"+e.projectId+"/"+e.dataset+"/"+r,i=[];if(e.rect){var s=e.rect,a=s.left,c=s.top,u=s.width,l=s.height;(0!==a||0!==c||l!==e.asset.height||u!==e.asset.width)&&i.push("rect="+a+","+c+","+u+","+l)}e.bg&&i.push("bg="+e.bg),e.focalPoint&&(i.push("fp-x="+e.focalPoint.x),i.push("fp-y="+e.focalPoint.y));var h=[e.flipHorizontal&&"h",e.flipVertical&&"v"].filter(Boolean).join("");return h&&i.push("flip="+h),d.forEach((function(t){var n=t[0],r=t[1];void 0!==e[n]?i.push(r+"="+encodeURIComponent(e[n])):void 0!==e[r]&&i.push(r+"="+encodeURIComponent(e[r]))})),0===i.length?o:o+"?"+i.join("&")}function m(e,t){var n,r=t.width,o=t.height;if(!r||!o)return{width:r,height:o,rect:e.crop};var i=e.crop,s=e.hotspot,a=r/o;if(i.width/i.height>a){var c=Math.round(i.height),u=Math.round(c*a),l=Math.max(0,Math.round(i.top)),h=Math.round((s.right-s.left)/2+s.left),f=Math.max(0,Math.round(h-u/2));f<i.left?f=i.left:f+u>i.left+i.width&&(f=i.left+i.width-u),n={left:f,top:l,width:u,height:c}}else{var d=i.width,p=Math.round(d/a),y=Math.max(0,Math.round(i.left)),m=Math.round((s.bottom-s.top)/2+s.top),g=Math.max(0,Math.round(m-p/2));g<i.top?g=i.top:g+p>i.top+i.height&&(g=i.top+i.height-p),n={left:y,top:g,width:d,height:p}}return{width:r,height:o,rect:n}}var g=["clip","crop","fill","fillmax","max","scale","min"],v=["top","bottom","left","right","center","focalpoint","entropy"],b=["format"];function w(e){return!(!e||!("config"in e))&&"function"==typeof e.config}function x(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}function E(e){for(var t,n=r(d);!(t=n()).done;){var o=t.value,i=o[0],s=o[1];if(e===i||e===s)return i}return e}function S(e){if(w(e)){var t=e.config(),n=t.apiHost,r=t.projectId,o=t.dataset;return new C(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:o})}if(x(e)){var i=e.clientConfig,s=i.apiHost,a=i.projectId,c=i.dataset;return new C(null,{baseUrl:(s||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:a,dataset:c})}return new C(null,e||{})}var C=function(){function t(t,n){this.options=void 0,this.options=t?e({},t.options||{},n||{}):e({},n||{})}var n=t.prototype;return n.withOptions=function(n){var r=n.baseUrl||this.options.baseUrl,o={baseUrl:r};for(var i in n)n.hasOwnProperty(i)&&(o[E(i)]=n[i]);return new t(this,e({baseUrl:r},o))},n.image=function(e){return this.withOptions({source:e})},n.dataset=function(e){return this.withOptions({dataset:e})},n.projectId=function(e){return this.withOptions({projectId:e})},n.bg=function(e){return this.withOptions({bg:e})},n.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},n.width=function(e){return this.withOptions({width:e})},n.height=function(e){return this.withOptions({height:e})},n.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},n.maxWidth=function(e){return this.withOptions({maxWidth:e})},n.minWidth=function(e){return this.withOptions({minWidth:e})},n.maxHeight=function(e){return this.withOptions({maxHeight:e})},n.minHeight=function(e){return this.withOptions({minHeight:e})},n.size=function(e,t){return this.withOptions({width:e,height:t})},n.blur=function(e){return this.withOptions({blur:e})},n.sharpen=function(e){return this.withOptions({sharpen:e})},n.rect=function(e,t,n,r){return this.withOptions({rect:{left:e,top:t,width:n,height:r}})},n.format=function(e){return this.withOptions({format:e})},n.invert=function(e){return this.withOptions({invert:e})},n.orientation=function(e){return this.withOptions({orientation:e})},n.quality=function(e){return this.withOptions({quality:e})},n.forceDownload=function(e){return this.withOptions({download:e})},n.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},n.flipVertical=function(){return this.withOptions({flipVertical:!0})},n.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},n.fit=function(e){if(-1===g.indexOf(e))throw new Error('Invalid fit mode "'+e+'"');return this.withOptions({fit:e})},n.crop=function(e){if(-1===v.indexOf(e))throw new Error('Invalid crop mode "'+e+'"');return this.withOptions({crop:e})},n.saturation=function(e){return this.withOptions({saturation:e})},n.auto=function(e){if(-1===b.indexOf(e))throw new Error('Invalid auto mode "'+e+'"');return this.withOptions({auto:e})},n.pad=function(e){return this.withOptions({pad:e})},n.vanityName=function(e){return this.withOptions({vanityName:e})},n.frame=function(e){if(1!==e)throw new Error('Invalid frame value "'+e+'"');return this.withOptions({frame:e})},n.url=function(){return p(this.options)},n.toString=function(){return this.url()},t}();return S}());function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e){var t=function(e,t){if("object"!=fi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==fi(t)?t:t+""}function pi(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,di(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var yi=[],mi=yi.forEach,gi=yi.slice;var vi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,bi=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),r&&(o.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var o=encodeURIComponent(t),i="".concat(e,"=").concat(o);if(r.maxAge>0){var s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(s))}if(r.domain){if(!vi.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(r.domain)}if(r.path){if(!vi.test(r.path))throw new TypeError("option path is invalid");i+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}(e,encodeURIComponent(t),o)},wi=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},xi={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=wi(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&bi(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Ei={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");if(i>0)r[o].substring(0,i)===e.lookupQuerystring&&(t=r[o].substring(i+1))}}return t}},Si=null,Ci=function(){if(null!==Si)return Si;try{Si="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){Si=!1}return Si},Oi={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Ci()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Ci()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},ki=null,_i=function(){if(null!==ki)return ki;try{ki="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){ki=!1}return ki},ji={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&_i()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&_i()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Ii={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Ai={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},Ti={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},$i={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},Pi=!1;try{document.cookie,Pi=!0}catch(Ws){}var Mi=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Pi||Mi.splice(1,1);var Di=function(){return pi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}),[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return mi.call(gi.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:Mi,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(xi),this.addDetector(Ei),this.addDetector(Oi),this.addDetector(ji),this.addDetector(Ii),this.addDetector(Ai),this.addDetector(Ti),this.addDetector($i)}},{key:"addDetector",value:function(e){return this.detectors[e.name]=e,this}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),n=n.map((function(e){return t.options.convertDetectedLanguage(e)})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}])}();Di.type="languageDetector";const Ri=/_key\s*==\s*['"](.*)['"]/;function Fi(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce(((e,t,n)=>{const r=typeof t;if("number"===r)return`${e}[${t}]`;if("string"===r)return`${e}${0===n?"":"."}${t}`;if(function(e){return"string"==typeof e?Ri.test(e.trim()):"object"==typeof e&&"_key"in e}(t)&&t._key)return`${e}[_key=="${t._key}"]`;if(Array.isArray(t)){const[n,r]=t;return`${e}[${n}:${r}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(t)}\``)}),"")}const qi={"\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","'":"\\'","\\":"\\\\"},Ui={"\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t","\\'":"'","\\\\":"\\"};function Ni(e){const t=[],n=/\['(.*?)'\]|\[(\d+)\]|\[\?\(@\._key=='(.*?)'\)\]/g;let r;for(;null!==(r=n.exec(e));)if(void 0===r[1])if(void 0===r[2])if(void 0===r[3]);else{const e=r[3].replace(/\\(\\')/g,(e=>Ui[e]));t.push({_key:e,_index:-1})}else t.push(parseInt(r[2],10));else{const e=r[1].replace(/\\(\\|f|n|r|t|')/g,(e=>Ui[e]));t.push(e)}return t}function Li(e){return e.map((e=>{if("string"==typeof e||"number"==typeof e)return e;if(""!==e._key)return{_key:e._key};if(-1!==e._index)return e._index;throw new Error(`invalid segment:${JSON.stringify(e)}`)}))}function zi(e,t){if(!(null==t?void 0:t.mappings))return;const n=function(e){return`$${e.map((e=>"string"==typeof e?`['${e.replace(/[\f\n\r\t'\\]/g,(e=>qi[e]))}']`:"number"==typeof e?`[${e}]`:""!==e._key?`[?(@._key=='${e._key.replace(/['\\]/g,(e=>qi[e]))}')]`:`[${e._index}]`)).join("")}`}(e.map((e=>{if("string"==typeof e||"number"==typeof e)return e;if(-1!==e._index)return e._index;throw new Error(`invalid segment:${JSON.stringify(e)}`)})));if(void 0!==t.mappings[n])return{mapping:t.mappings[n],matchedPath:n,pathSuffix:""};const r=Object.entries(t.mappings).filter((([e])=>n.startsWith(e))).sort((([e],[t])=>t.length-e.length));if(0==r.length)return;const[o,i]=r[0];return{mapping:i,matchedPath:o,pathSuffix:n.substring(o.length)}}function Wi(e){return"object"==typeof e&&null!==e}function Hi(e,t,n=[]){if(function(e){return null!==e&&Array.isArray(e)}(e))return e.map(((e,r)=>{if(Wi(e)){const o=e._key;if("string"==typeof o)return Hi(e,t,n.concat({_key:o,_index:r}))}return Hi(e,t,n.concat(r))}));if(Wi(e)){if("block"===e._type||"span"===e._type){const r={...e};return"block"===e._type?r.children=Hi(e.children,t,n.concat("children")):"span"===e._type&&(r.text=Hi(e.text,t,n.concat("text"))),r}return Object.fromEntries(Object.entries(e).map((([e,r])=>[e,Hi(r,t,n.concat(e))])))}return t(e,n)}function Bi(e,t,n){return Hi(e,((e,r)=>{if("string"!=typeof e)return e;const o=zi(r,t);if(!o)return e;const{mapping:i,matchedPath:s}=o;if("value"!==i.type||"documentValue"!==i.source.type)return e;const a=t.documents[i.source.document],c=t.paths[i.source.path],u=Ni(s),l=Ni(c).concat(r.slice(u.length));return n({sourcePath:l,sourceDocument:a,resultPath:r,value:e})}))}const Vi=".",Ji=`drafts${Vi}`,Gi=`versions${Vi}`;function Qi(e){return e.startsWith(Ji)}function Xi(e){return e.startsWith(Gi)}function Ki(e){const{baseUrl:t,workspace:n="default",tool:r="default",id:o,type:i,path:s,projectId:a,dataset:c}=e;if(!t)throw new Error("baseUrl is required");if(!s)throw new Error("path is required");if(!o)throw new Error("id is required");if("/"!==t&&t.endsWith("/"))throw new Error("baseUrl must not end with a slash");const u="default"===n?void 0:n,l="default"===r?void 0:r,h=function(e){return Xi(e)?e.split(Vi).slice(2).join(Vi):Qi(e)?e.slice(Ji.length):e}(o),f=Array.isArray(s)?Fi(Li(s)):s,d=new URLSearchParams({baseUrl:t,id:h,type:i,path:f});if(u&&d.set("workspace",u),l&&d.set("tool",l),a&&d.set("projectId",a),c&&d.set("dataset",c),function(e){return!Qi(e)&&!Xi(e)}(o))d.set("perspective","published");else if(Xi(o)){const e=function(e){if(!Xi(e))return;const[t,n,...r]=e.split(Vi);return n}(o);d.set("perspective",e)}const p=["/"===t?"":t];u&&p.push(u);const y=["mode=presentation",`id=${h}`,`type=${i}`,`path=${encodeURIComponent(f)}`];return l&&y.push(`tool=${l}`),p.push("intent","edit",`${y.join(";")}?${d}`),p.join("/")}const Yi=({sourcePath:e,resultPath:t,value:n})=>{if(/^\d{4}-\d{2}-\d{2}/.test(r=n)&&Date.parse(r)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(n))return!1;var r;const o=e.at(-1);return!("slug"===e.at(-2)&&"current"===o||"string"==typeof o&&(o.startsWith("_")||o.endsWith("Id"))||e.some((e=>"meta"===e||"metadata"===e||"openGraph"===e||"seo"===e))||es(e)||es(t)||"string"==typeof o&&Zi.has(o))},Zi=new Set(["color","colour","currency","email","format","gid","hex","href","hsl","hsla","icon","id","index","key","language","layout","link","linkAction","locale","lqip","page","path","ref","rgb","rgba","route","secret","slug","status","tag","template","theme","type","textTheme","unit","url","username","variant","website"]);function es(e){return e.some((e=>"string"==typeof e&&null!==e.match(/type/i)))}function ts(e,t,n){var r,o,i,s,a,c,u,l,h;const{filter:f,logger:d,enabled:p}=n;if(!p){const o="config.enabled must be true, don't call this function otherwise";throw null==(r=null==d?void 0:d.error)||r.call(d,`[@sanity/client]: ${o}`,{result:e,resultSourceMap:t,config:n}),new TypeError(o)}if(!t)return null==(o=null==d?void 0:d.error)||o.call(d,"[@sanity/client]: Missing Content Source Map from response body",{result:e,resultSourceMap:t,config:n}),e;if(!n.studioUrl){const r="config.studioUrl must be defined";throw null==(i=null==d?void 0:d.error)||i.call(d,`[@sanity/client]: ${r}`,{result:e,resultSourceMap:t,config:n}),new TypeError(r)}const y={encoded:[],skipped:[]},m=Bi(e,t,(({sourcePath:e,sourceDocument:t,resultPath:r,value:o})=>{if(!1===("function"==typeof f?f({sourcePath:e,resultPath:r,filterDefault:Yi,sourceDocument:t,value:o}):Yi({sourcePath:e,resultPath:r,value:o})))return d&&y.skipped.push({path:ns(e),value:`${o.slice(0,20)}${o.length>20?"...":""}`,length:o.length}),o;d&&y.encoded.push({path:ns(e),value:`${o.slice(0,20)}${o.length>20?"...":""}`,length:o.length});const{baseUrl:i,workspace:s,tool:a}=function(e){let t="string"==typeof e?e:e.baseUrl;return"/"!==t&&(t=t.replace(/\/$/,"")),"string"==typeof e?{baseUrl:t}:{...e,baseUrl:t}}("function"==typeof n.studioUrl?n.studioUrl(t):n.studioUrl);if(!i)return o;const{_id:c,_type:u,_projectId:l,_dataset:h}=t;return fr(o,{origin:"sanity.io",href:Ki({baseUrl:i,workspace:s,tool:a,id:c,type:u,path:e,...!n.omitCrossDatasetReferenceData&&{dataset:h,projectId:l}})},!1)}));if(d){const e=y.skipped.length,t=y.encoded.length;if((e||t)&&(null==(s=(null==d?void 0:d.groupCollapsed)||d.log)||s("[@sanity/client]: Encoding source map into result"),null==(a=d.log)||a.call(d,`[@sanity/client]: Paths encoded: ${y.encoded.length}, skipped: ${y.skipped.length}`)),y.encoded.length>0&&(null==(c=null==d?void 0:d.log)||c.call(d,"[@sanity/client]: Table of encoded paths"),null==(u=(null==d?void 0:d.table)||d.log)||u(y.encoded)),y.skipped.length>0){const e=new Set;for(const{path:t}of y.skipped)e.add(t.replace(Ri,"0").replace(/\[\d+\]/g,"[]"));null==(l=null==d?void 0:d.log)||l.call(d,"[@sanity/client]: List of skipped paths",[...e.values()])}(e||t)&&(null==(h=null==d?void 0:d.groupEnd)||h.call(d))}return m}function ns(e){return Fi(Li(e))}var rs=Object.freeze({__proto__:null,stegaEncodeSourceMap:ts});const os=Object.freeze(Object.defineProperty({__proto__:null,encodeIntoResult:Bi,stegaEncodeSourceMap:ts,stegaEncodeSourceMap$1:rs},Symbol.toStringTag,{value:"Module"}));var is,ss,as={exports:{}};
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */is=as,ss=as.exports,function(e){var t=e.setTimeout,n=e.clearTimeout,r=e.XMLHttpRequest,o=e.XDomainRequest,i=e.ActiveXObject,s=e.EventSource,a=e.document,c=e.Promise,u=e.fetch,l=e.Response,h=e.TextDecoder,f=e.TextEncoder,d=e.AbortController;if("undefined"==typeof window||void 0===a||"readyState"in a||null!=a.body||(a.readyState="loading",window.addEventListener("load",(function(e){a.readyState="complete"}),!1)),null==r&&null!=i&&(r=function(){return new i("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==d){var p=u;u=function(e,t){var n=t.signal;return p(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader();return n._reader=t,n._aborted&&n._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},d=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function y(){this.bitsNeeded=0,this.codePoint=0}y.prototype.decode=function(e){function t(e,t,n){if(1===n)return e>=128>>t&&e<<t<=2047;if(2===n)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===n)return e>=65536>>t&&e<<t<=1114111;throw new Error}function n(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var r=65533,o="",i=this.bitsNeeded,s=this.codePoint,a=0;a<e.length;a+=1){var c=e[a];0!==i&&(c<128||c>191||!t(s<<6|63&c,i-6,n(i,s)))&&(i=0,s=r,o+=String.fromCharCode(s)),0===i?(c>=0&&c<=127?(i=0,s=c):c>=192&&c<=223?(i=6,s=31&c):c>=224&&c<=239?(i=12,s=15&c):c>=240&&c<=247?(i=18,s=7&c):(i=0,s=r),0===i||t(s,i,n(i,s))||(i=0,s=r)):(i-=6,s=s<<6|63&c),0===i&&(s<=65535?o+=String.fromCharCode(s):(o+=String.fromCharCode(55296+(s-65535-1>>10)),o+=String.fromCharCode(56320+(s-65535-1&1023))))}return this.bitsNeeded=i,this.codePoint=s,o},null!=h&&null!=f&&function(){try{return"test"===(new h).decode((new f).encode("test"),{stream:!0})}catch(e){}return!1}()||(h=y);var m=function(){};function g(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=m,this.onload=m,this.onerror=m,this.onreadystatechange=m,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=m}function v(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function b(e){for(var t=Object.create(null),n=e.split("\r\n"),r=0;r<n.length;r+=1){var o=n[r].split(": "),i=o.shift(),s=o.join(": ");t[v(i)]=s}this._map=t}function w(){}function x(e){this._headers=e}function E(){}function S(){this._listeners=Object.create(null)}function C(e){t((function(){throw e}),0)}function O(e){this.type=e,this.target=void 0}function k(e,t){O.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function _(e,t){O.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function j(e,t){O.call(this,e),this.error=t.error}g.prototype.open=function(e,o){this._abort(!0);var i=this,s=this._xhr,a=1,c=0;this._abort=function(e){0!==i._sendTimeout&&(n(i._sendTimeout),i._sendTimeout=0),1!==a&&2!==a&&3!==a||(a=4,s.onload=m,s.onerror=m,s.onabort=m,s.onprogress=m,s.onreadystatechange=m,s.abort(),0!==c&&(n(c),c=0),e||(i.readyState=4,i.onabort(null),i.onreadystatechange())),a=0};var u=function(){if(1===a){var e=0,t="",n=void 0;if("contentType"in s)e=200,t="OK",n=s.contentType;else try{e=s.status,t=s.statusText,n=s.getResponseHeader("Content-Type")}catch(r){e=0,t="",n=void 0}0!==e&&(a=2,i.readyState=2,i.status=e,i.statusText=t,i._contentType=n,i.onreadystatechange())}},l=function(){if(u(),2===a||3===a){a=3;var e="";try{e=s.responseText}catch(t){}i.readyState=3,i.responseText=e,i.onprogress()}},h=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:m}),l(),1===a||2===a||3===a){if(a=4,0!==c&&(n(c),c=0),i.readyState=4,"load"===e)i.onload(t);else if("error"===e)i.onerror(t);else{if("abort"!==e)throw new TypeError;i.onabort(t)}i.onreadystatechange()}},f=function(){c=t((function(){f()}),500),3===s.readyState&&l()};"onload"in s&&(s.onload=function(e){h("load",e)}),"onerror"in s&&(s.onerror=function(e){h("error",e)}),"onabort"in s&&(s.onabort=function(e){h("abort",e)}),"onprogress"in s&&(s.onprogress=l),"onreadystatechange"in s&&(s.onreadystatechange=function(e){!function(e){null!=s&&(4===s.readyState?"onload"in s&&"onerror"in s&&"onabort"in s||h(""===s.responseText?"error":"load",e):3===s.readyState?"onprogress"in s||l():2===s.readyState&&u())}(e)}),!("contentType"in s)&&"ontimeout"in r.prototype||(o+=(-1===o.indexOf("?")?"?":"&")+"padding=true"),s.open(e,o,!0),"readyState"in s&&(c=t((function(){f()}),0))},g.prototype.abort=function(){this._abort(!1)},g.prototype.getResponseHeader=function(e){return this._contentType},g.prototype.setRequestHeader=function(e,t){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(e,t)},g.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},g.prototype.send=function(){if("ontimeout"in r.prototype&&("sendAsBinary"in r.prototype||"mozAnon"in r.prototype)||null==a||null==a.readyState||"complete"===a.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(o){throw o}}else{var n=this;n._sendTimeout=t((function(){n._sendTimeout=0,n.send()}),4)}},b.prototype.get=function(e){return this._map[v(e)]},null!=r&&null==r.HEADERS_RECEIVED&&(r.HEADERS_RECEIVED=2),w.prototype.open=function(e,t,n,o,i,s,a){e.open("GET",i);var c=0;for(var u in e.onprogress=function(){var t=e.responseText.slice(c);c+=t.length,n(t)},e.onerror=function(e){e.preventDefault(),o(new Error("NetworkError"))},e.onload=function(){o(null)},e.onabort=function(){o(null)},e.onreadystatechange=function(){if(e.readyState===r.HEADERS_RECEIVED){var n=e.status,o=e.statusText,i=e.getResponseHeader("Content-Type"),s=e.getAllResponseHeaders();t(n,o,i,new b(s))}},e.withCredentials=s,a)Object.prototype.hasOwnProperty.call(a,u)&&e.setRequestHeader(u,a[u]);return e.send(),e},x.prototype.get=function(e){return this._headers.get(e)},E.prototype.open=function(e,t,n,r,o,i,s){var a=null,l=new d,f=l.signal,p=new h;return u(o,{headers:s,credentials:i?"include":"same-origin",signal:f,cache:"no-store"}).then((function(e){return a=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new x(e.headers)),new c((function(e,t){var r=function(){a.read().then((function(t){if(t.done)e(void 0);else{var o=p.decode(t.value,{stream:!0});n(o),r()}})).catch((function(e){t(e)}))};r()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){r(e)})),{abort:function(){null!=a&&a.cancel(),l.abort()}}},S.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var n=t.length,r=0;r<n;r+=1){var o=t[r];try{"function"==typeof o.handleEvent?o.handleEvent(e):o.call(this,e)}catch(Ws){C(Ws)}}},S.prototype.addEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];null==r&&(r=[],n[e]=r);for(var o=!1,i=0;i<r.length;i+=1)r[i]===t&&(o=!0);o||r.push(t)},S.prototype.removeEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];if(null!=r){for(var o=[],i=0;i<r.length;i+=1)r[i]!==t&&o.push(r[i]);0===o.length?delete n[e]:n[e]=o}},k.prototype=Object.create(O.prototype),_.prototype=Object.create(O.prototype),j.prototype=Object.create(O.prototype);var I=-1,A=-1,T=/^text\/event\-stream(;.*)?$/i,$=function(e,t){var n=null==e?t:parseInt(e,10);return n!=n&&(n=t),P(n)},P=function(e){return Math.min(Math.max(e,1e3),18e6)},M=function(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(Ws){C(Ws)}};function D(e,i){S.call(this),i=i||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,i,s){i=String(i);var a=Boolean(s.withCredentials),c=s.lastEventIdQueryParameterName||"lastEventId",u=P(1e3),l=$(s.heartbeatTimeout,45e3),h="",f=u,d=!1,p=0,y=s.headers||{},m=s.Transport,v=R&&null==m?void 0:new g(null!=m?new m:null!=r&&"withCredentials"in r.prototype||null==o?new r:new o),b=null!=m&&"string"!=typeof m?new m:null==v?new E:new w,x=void 0,S=0,C=I,O="",D="",F="",q="",U=0,N=0,L=0,z=function(t,n,r,o){if(0===C)if(200===t&&null!=r&&T.test(r)){C=1,d=Date.now(),f=u,e.readyState=1;var i=new _("open",{status:t,statusText:n,headers:o});e.dispatchEvent(i),M(e,e.onopen,i)}else 200!==t?n&&(n=n.replace(/\s+/g," ")):null==r||r.replace(/\s+/g," "),B(),i=new _("error",{status:t,statusText:n,headers:o}),e.dispatchEvent(i),M(e,e.onerror,i)},W=function(r){if(1===C){for(var o=-1,i=0;i<r.length;i+=1)(c=r.charCodeAt(i))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(o=i);var s=(-1!==o?q:"")+r.slice(0,o+1);q=(-1===o?q:"")+r.slice(o+1),""!==r&&(d=Date.now(),p+=r.length);for(var a=0;a<s.length;a+=1){var c=s.charCodeAt(a);if(U===A&&c==="\n".charCodeAt(0))U=0;else if(U===A&&(U=0),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(0!==U){1===U&&(L=a+1);var y=s.slice(N,L-1),m=s.slice(L+(L<a&&s.charCodeAt(L)===" ".charCodeAt(0)?1:0),a);"data"===y?(O+="\n",O+=m):"id"===y?D=m:"event"===y?F=m:"retry"===y?(u=$(m,u),f=u):"heartbeatTimeout"===y&&(l=$(m,l),0!==S&&(n(S),S=t((function(){V()}),l)))}if(0===U){if(""!==O){h=D,""===F&&(F="message");var g=new k(F,{data:O.slice(1),lastEventId:D});if(e.dispatchEvent(g),"open"===F?M(e,e.onopen,g):"message"===F?M(e,e.onmessage,g):"error"===F&&M(e,e.onerror,g),2===C)return}O="",F=""}U=c==="\r".charCodeAt(0)?A:0}else 0===U&&(N=a,U=1),1===U?c===":".charCodeAt(0)&&(L=a+1,U=2):2===U&&(U=3)}}},H=function(r){if(1===C||0===C){C=I,0!==S&&(n(S),S=0),S=t((function(){V()}),f),f=P(Math.min(16*u,2*f)),e.readyState=0;var o=new j("error",{error:r});e.dispatchEvent(o),M(e,e.onerror,o)}},B=function(){C=2,null!=x&&(x.abort(),x=void 0),0!==S&&(n(S),S=0),e.readyState=2},V=function(){if(S=0,C===I){d=!1,p=0,S=t((function(){V()}),l),C=0,O="",F="",D=h,q="",N=0,L=0,U=0;var n=i;if("data:"!==i.slice(0,5)&&"blob:"!==i.slice(0,5)&&""!==h){var r=i.indexOf("?");n=-1===r?i:i.slice(0,r+1)+i.slice(r+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,t){return t===c?"":e})),n+=(-1===i.indexOf("?")?"?":"&")+c+"="+encodeURIComponent(h)}var o=e.withCredentials,s={Accept:"text/event-stream"},a=e.headers;if(null!=a)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);try{x=b.open(v,z,W,H,n,o,s)}catch(y){throw B(),y}}else if(d||null==x){var f=Math.max((d||Date.now())+l-Date.now(),1);d=!1,S=t((function(){V()}),f)}else H(new Error("No activity within "+l+" milliseconds. "+(0===C?"No response received.":p+" chars received.")+" Reconnecting.")),null!=x&&(x.abort(),x=void 0)};e.url=i,e.readyState=0,e.withCredentials=a,e.headers=y,e._close=B,V()}(this,e,i)}var R=null!=u&&null!=l&&"body"in l.prototype;D.prototype=Object.create(S.prototype),D.prototype.CONNECTING=0,D.prototype.OPEN=1,D.prototype.CLOSED=2,D.prototype.close=function(){this._close()},D.CONNECTING=0,D.OPEN=1,D.CLOSED=2,D.prototype.withCredentials=void 0;var F,q,U=s;null==r||null!=s&&"withCredentials"in s.prototype||(U=D),(F=ss).EventSourcePolyfill=D,F.NativeEventSource=s,void 0!==(q=void(F.EventSource=U))&&(is.exports=q)}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:W:globalThis);var cs=as.exports.EventSourcePolyfill;const us=V({__proto__:null,default:N(cs)},[cs]);function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ds(e){return"span"===e._type&&"text"in e&&"string"==typeof e.text&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every((e=>"string"==typeof e)))}function ps(e){return"string"==typeof e._type&&"@"!==e._type[0]&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every((e=>"string"==typeof e._key)))&&"children"in e&&Array.isArray(e.children)&&e.children.every((e=>"object"==typeof e&&"_type"in e))}function ys(e){return ps(e)&&"listItem"in e&&"string"==typeof e.listItem&&(typeof e.level>"u"||"number"==typeof e.level)}function ms(e){return"@list"===e._type}function gs(e){return"@span"===e._type}function vs(e){return"@text"===e._type}const bs=["strong","em","code","underline","strike-through"];function ws(e,t,n){if(!ds(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach((e=>{o[e]=1;for(let r=t+1;r<n.length;r++){const t=n[r];if(!(t&&ds(t)&&Array.isArray(t.marks)&&-1!==t.marks.indexOf(e)))break;o[e]++}})),r.sort(((e,t)=>function(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=bs.indexOf(t),s=bs.indexOf(n);return i!==s?i-s:t.localeCompare(n)}(o,e,t)))}function xs(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function Es(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function Ss(e,t){const n=t.level||1,r=t.listItem||"normal",o="string"==typeof t.listItem;if(ms(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!ds(i)?Ss(i,t):void 0}function Cs(e){let t="";return e.children.forEach((e=>{vs(e)?t+=e.text:gs(e)&&(t+=Cs(e))})),t}const Os=["block","list","listItem","marks","types"],ks=["listItem"],_s=["_key"];function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?js(Object(n),!0).forEach((function(t){As(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function As(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const $s={textDecoration:"underline"},Ps=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,Ms=e=>Ps(`block type "${e}"`,"types");function Ds(e){}const Rs={display:"none"},Fs={types:{},block:{normal:({children:e})=>B.jsx("p",{children:e}),blockquote:({children:e})=>B.jsx("blockquote",{children:e}),h1:({children:e})=>B.jsx("h1",{children:e}),h2:({children:e})=>B.jsx("h2",{children:e}),h3:({children:e})=>B.jsx("h3",{children:e}),h4:({children:e})=>B.jsx("h4",{children:e}),h5:({children:e})=>B.jsx("h5",{children:e}),h6:({children:e})=>B.jsx("h6",{children:e})},marks:{em:({children:e})=>B.jsx("em",{children:e}),strong:({children:e})=>B.jsx("strong",{children:e}),code:({children:e})=>B.jsx("code",{children:e}),underline:({children:e})=>B.jsx("span",{style:$s,children:e}),"strike-through":({children:e})=>B.jsx("del",{children:e}),link:({children:e,value:t})=>B.jsx("a",{href:null==t?void 0:t.href,children:e})},list:{number:({children:e})=>B.jsx("ol",{children:e}),bullet:({children:e})=>B.jsx("ul",{children:e})},listItem:({children:e})=>B.jsx("li",{children:e}),hardBreak:()=>B.jsx("br",{}),unknownType:({value:e,isInline:t})=>{const n=Ms(e._type);return t?B.jsx("span",{style:Rs,children:n}):B.jsx("div",{style:Rs,children:n})},unknownMark:({markType:e,children:t})=>B.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),unknownList:({children:e})=>B.jsx("ul",{children:e}),unknownListItem:({children:e})=>B.jsx("li",{children:e}),unknownBlockStyle:({children:e})=>B.jsx("p",{children:e})};function qs(e,t,n){const r=t[n],o=e[n];return"function"==typeof r||r&&"function"==typeof o?r:r?Is(Is({},o),r):o}function Us({value:e,components:t,listNestingMode:n,onMissingComponent:r=Ds}){const o=r||zs,i=function(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!ys(i)){n.push(i),r=void 0;continue}if(!r){r=Es(i,o,t),n.push(r);continue}if(xs(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const e=Es(i,o,t);if("html"===t){const t=r.children[r.children.length-1],n=hs(hs({},t),{},{children:[...t.children,e]});r.children[r.children.length-1]=n}else r.children.push(e);r=e;continue}if((i.level||1)<r.level){const e=n[n.length-1],s=e&&Ss(e,i);if(s){r=s,r.children.push(i);continue}r=Es(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const e=n[n.length-1],s=e&&Ss(e,{level:i.level||1});if(s&&s.listItem===i.listItem){r=s,r.children.push(i);continue}r=Es(i,o,t),n.push(r);continue}n.push(i)}}return n}(Array.isArray(e)?e:[e],n||"html"),s=H.useMemo((()=>t?function(e,t){const{block:n,list:r,listItem:o,marks:i,types:s}=t,a=Ts(t,Os);return Is(Is({},e),{},{block:qs(e,t,"block"),list:qs(e,t,"list"),listItem:qs(e,t,"listItem"),marks:qs(e,t,"marks"),types:qs(e,t,"types")},a)}(Fs,t):Fs),[t]),a=H.useMemo((()=>Ns(s,o)),[s,o]),c=i.map(((e,t)=>a({node:e,index:t,isInline:!1,renderNode:a})));return B.jsx(B.Fragment,{children:c})}const Ns=(e,t)=>{function n(r){const{node:o,index:i,isInline:s}=r,a=o._key||`node-${i}`;return ms(o)?function(r,o,i){const s=r.children.map(((e,t)=>n({node:e._key?e:Is(Is({},e),{},{_key:`li-${o}-${t}`}),index:t,isInline:!1}))),a=e.list,c=("function"==typeof a?a:a[r.listItem])||e.unknownList;if(c===e.unknownList){const e=r.listItem||"bullet";t(Ps(`list style "${e}"`,"list"),{nodeType:"listStyle",type:e})}return B.jsx(c,{value:r,index:o,isInline:!1,renderNode:n,children:s},i)}(o,i,a):ys(o)?function(r,o,i){const s=Ls({node:r,index:o,isInline:!1,renderNode:n}),a=e.listItem,c=("function"==typeof a?a:a[r.listItem])||e.unknownListItem;if(c===e.unknownListItem){const e=r.listItem||"bullet";t(Ps(`list item style "${e}"`,"listItem"),{type:e,nodeType:"listItemStyle"})}let u=s.children;if(r.style&&"normal"!==r.style){const{listItem:e}=r;u=n({node:Ts(r,ks),index:o,isInline:!1})}return B.jsx(c,{value:r,index:o,isInline:!1,renderNode:n,children:u},i)}(o,i,a):gs(o)?function(r,o,i){const{markDef:s,markType:a,markKey:c}=r,u=e.marks[a]||e.unknownMark,l=r.children.map(((e,t)=>n({node:e,index:t,isInline:!0})));return u===e.unknownMark&&t((e=>Ps(`mark type "${e}"`,"marks"))(a),{nodeType:"mark",type:a}),B.jsx(u,{text:Cs(r),value:s,markType:a,markKey:c,renderNode:n,children:l},i)}(o,0,a):function(t){return t._type in e.types}(o)?function(t,r,o,i){const s={value:t,isInline:i,index:r,renderNode:n},a=e.types[t._type];return a?B.jsx(a,Is({},s),o):null}(o,i,a,s):ps(o)?function(r,o,i,s){const a=Ls({node:r,index:o,isInline:s,renderNode:n}),{_key:c}=a,u=Ts(a,_s),l=u.node.style||"normal",h=("function"==typeof e.block?e.block:e.block[l])||e.unknownBlockStyle;return h===e.unknownBlockStyle&&t((f=l,Ps(`block style "${f}"`,"block")),{nodeType:"blockStyle",type:l}),B.jsx(h,Is(Is({},u),{},{value:u.node,renderNode:n}),i);var f}(o,i,a,s):vs(o)?function(t,n){if("\n"===t.text){const t=e.hardBreak;return t?B.jsx(t,{},n):"\n"}return t.text}(o,a):function(r,o,i,s){const a={value:r,isInline:s,index:o,renderNode:n};t(Ms(r._type),{nodeType:"block",type:r._type});const c=e.unknownType;return B.jsx(c,Is({},a),i)}(o,i,a,s)}return n};function Ls(e){const{node:t,index:n,isInline:r,renderNode:o}=e,i=function(e){var t,n;const{children:r}=e,o=null!=(t=e.markDefs)?t:[];if(!r||!r.length)return[];const i=r.map(ws),s={_type:"@span",children:[],markType:"<unknown>"};let a=[s];for(let c=0;c<r.length;c++){const e=r[c];if(!e)continue;const t=i[c]||[];let s=1;if(a.length>1)for(;s<a.length;s++){const e=(null==(n=a[s])?void 0:n.markKey)||"",r=t.indexOf(e);if(-1===r)break;t.splice(r,1)}a=a.slice(0,s);let u=a[a.length-1];if(u){for(const n of t){const t=null==o?void 0:o.find((e=>e._key===n)),r=t?t._type:n,i={_type:"@span",_key:e._key,children:[],markDef:t,markType:r,markKey:n};u.children.push(i),a.push(i),u=i}if(ds(e)){const t=e.text.split("\n");for(let e=t.length;e-- >1;)t.splice(e,0,"\n");u.children=u.children.concat(t.map((e=>({_type:"@text",text:e}))))}else u.children=u.children.concat(e)}}return s.children}(t).map(((e,t)=>o({node:e,isInline:!0,index:t,renderNode:o})));return{_key:t._key||`block-${n}`,children:i,index:n,isInline:r,node:t}}function zs(){}export{Di as B,ie as G,Us as P,G as _,ue as a,te as b,ce as c,ae as d,he as e,Y as f,ye as g,be as h,Q as i,Z as j,pe as k,le as l,ne as m,K as n,me as o,ee as p,se as q,ke as r,X as s,Pe as t,Ce as u,$e as v,Le as w,He as x,ai as y,hi as z};
